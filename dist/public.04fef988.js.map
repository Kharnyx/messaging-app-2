{"mappings":"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","sources":["<anon>","public/scripts/script.js"],"sourcesContent":["// scripts/script.js\nconst root = document.documentElement;\nconst computedStyle = getComputedStyle(root);\nconst rootFontSize = parseFloat(computedStyle.fontSize);\nconst chatMenu = document.getElementById(\"chat-menu\");\nconst border = 0.25 * rootFontSize;\n// console.log(\"Root Styles:\", computedStyle.fontSize);\nconst buttons = document.querySelectorAll(\"button\");\nconst textareaMaxLines = 7;\nfor (let button of buttons){\n    let text = document.createElement(\"p\");\n    for (let node of Array.from(button.childNodes))if (node.nodeType === node.TEXT_NODE && node.textContent.trim() !== \"\") text.appendChild(node);\n    if (text.childNodes.length > 0) button.prepend(text);\n    if (button.classList.contains(\"ripple-button\")) setUpRipple(button);\n}\nfunction setUpRipple(button) {\n    button.addEventListener('mousedown', function(e) {\n        // Ensure only one ripple exists at a time\n        const existingRipple = this.querySelector('.ripple');\n        if (existingRipple) existingRipple.remove();\n        // Create the ripple span element\n        const circle = document.createElement('span');\n        circle.classList.add('ripple');\n        // Get position and calculate size\n        const rect = this.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n        const size = Math.max(rect.width, rect.height);\n        // Set position and size\n        circle.style.width = circle.style.height = `${size}px`;\n        circle.style.left = `${x - size / 2}px`;\n        circle.style.top = `${y - size / 2}px`;\n        // Append the ripple\n        this.prepend(circle);\n    });\n    // Attach the cleanup/removal logic to 'mouseup' (when the user releases the hold)\n    button.addEventListener('mouseup', function() {\n        const ripple = this.querySelector('.ripple');\n        if (ripple) {\n            // Fade Out on Release\n            ripple.classList.add('fading');\n            // Wait for the fade animation to finish before removing the element\n            // Use 'transitionend' if 'fading' uses CSS transitions, or a timeout.\n            // Using a timeout here for simplicity, assuming a 200ms fade.\n            setTimeout(()=>{\n                ripple.remove();\n            }, 200);\n        }\n    });\n    // Handle case where user holds, drags mouse off button, and releases\n    document.addEventListener('mouseup', function(e) {\n        if (!button.contains(e.target)) {\n            const ripple = button.querySelector('.ripple');\n            if (ripple) ripple.remove(); // Remove immediately if released outside\n        }\n    });\n}\nwindow.updateTextareaSize = function(element) {\n    const height = element.style.height;\n    element.style.height = \"auto\";\n    // console.log(`Updated element textarea size: ${height}`);\n    let newHeight = element.scrollHeight;\n    let lineHeight = window.getComputedStyle(element).lineHeight;\n    if (typeof lineHeight != Number) lineHeight = 1.2;\n    const heightPerLine = lineHeight * rootFontSize;\n    if (newHeight > heightPerLine * textareaMaxLines) newHeight = heightPerLine * textareaMaxLines;\n    element.style.height = `${newHeight}px`;\n    element.scrollTop = element.scrollHeight;\n};\nupdateTooltips();\nwindow.addEventListener(\"DOMContentLoaded\", ()=>{\n    setupDropdowns();\n    updateDropdowns();\n});\nwindow.addEventListener(\"load\", ()=>{\n    document.body.classList.remove(\"no-transitions\");\n});\nwindow.addEventListener(\"resize\", ()=>{\n    positionTooltips();\n    chatMenu.classList.add(\"no-transitions\");\n    requestAnimationFrame(()=>{\n        requestAnimationFrame(()=>{\n            chatMenu.classList.remove(\"no-transitions\");\n        });\n    });\n});\ndocument.addEventListener(\"click\", (e)=>{\n    const shownDropdowns = document.querySelectorAll(\".dropdown-content.show\");\n    const shownSubdropdowns = document.querySelectorAll(\".dropdown-subcontent.show, .dropdown-subcontent.click-show\");\n    if (shownDropdowns.length > 0) for (let dropdown of shownDropdowns){\n        if (shownSubdropdowns.length > 0) {\n            let found = false;\n            for (let subdropdown of shownSubdropdowns){\n                const child = dropdown.querySelector(`#${subdropdown.getAttribute(\"data-toggle\")}`);\n                if (child) {\n                    if (subdropdown.contains(e.target) || child.contains(e.target)) found = true;\n                    else {\n                        subdropdown.classList.remove(\"show\");\n                        subdropdown.classList.remove(\"click-show\");\n                    }\n                }\n            }\n            if (found) continue;\n        }\n        const btn = document.getElementById(dropdown.getAttribute(\"data-toggle\"));\n        if (!dropdown.contains(e.target) && !btn.contains(e.target)) dropdown.classList.remove(\"show\");\n    }\n});\nfunction getUnscaledRect(element) {\n    // Extract scale values from computed transform\n    const style = window.getComputedStyle(element);\n    const transform = style.transform;\n    let scaleX = 1, scaleY = 1;\n    if (transform && transform !== \"none\") {\n        const values = transform.match(/matrix\\(([^)]+)\\)/)[1].split(\",\").map(Number);\n        scaleX = values[0];\n        scaleY = values[3];\n    }\n    // Get the scaled bounding box\n    const rect = element.getBoundingClientRect();\n    // Get transform-origin in px relative to the element itself\n    const origin = style.transformOrigin.split(\" \").map(parseFloat);\n    const originX = origin[0];\n    const originY = origin[1];\n    // Convert origin into absolute page coords\n    const originPageX = rect.left + originX * (rect.width / scaleX) / element.offsetWidth;\n    const originPageY = rect.top + originY * (rect.height / scaleY) / element.offsetHeight;\n    // Now undo the scaling relative to the origin\n    function unscaleX(x) {\n        return originPageX + (x - originPageX) / scaleX;\n    }\n    function unscaleY(y) {\n        return originPageY + (y - originPageY) / scaleY;\n    }\n    return {\n        x: unscaleX(rect.x),\n        y: unscaleY(rect.y),\n        width: rect.width / scaleX,\n        height: rect.height / scaleY,\n        left: unscaleX(rect.left),\n        right: unscaleX(rect.right),\n        top: unscaleY(rect.top),\n        bottom: unscaleY(rect.bottom)\n    };\n}\nconst selectBoxes = document.querySelectorAll(\".option\");\nfor (let element of selectBoxes){\n    const options = element.querySelectorAll(\"li\");\n    const displayOption = document.createElement(\"p\");\n    displayOption.classList.add(\"option-text\");\n    displayOption.textContent = options[0].textContent;\n    element.appendChild(displayOption);\n    const arrow = document.createElement(\"span\");\n    arrow.innerHTML = \"&#x25BC;\";\n    arrow.classList.add(\"option-arrow\");\n    element.appendChild(arrow);\n    for (let option of options)option.addEventListener(\"click\", ()=>{\n        const selected = Array.from(options).filter((option)=>option.classList.contains(\"selected\"));\n        for (let option of selected)option.classList.remove(\"selected\");\n        option.classList.add(\"selected\");\n        element.dataset.selected = option.dataset.value;\n        displayOption.textContent = option.textContent;\n    });\n    element.addEventListener(\"click\", ()=>{\n        element.classList.toggle(\"active\");\n    });\n} /*\r\nfunction positionTooltips() {\r\n  const border = 4; // 0.25rem (16px * 0.25)\r\n\r\n  for (let tooltip of tooltips) {\r\n    const button = tooltip.parentElement;\r\n    const btnRect = button.getBoundingClientRect();\r\n\r\n    // Get tooltip rect as if scale=1\r\n    const toolRect = getUnscaledRect(tooltip);\r\n\r\n    // ---- Default placement (centered under button) ----\r\n    let top = btnRect.height + border;\r\n    let left = (btnRect.width - toolRect.width) / 2;\r\n\r\n    tooltip.style.top = `${top}px`;\r\n    tooltip.style.left = `${left}px`;\r\n\r\n    // Measure again after placement\r\n    let actualRect = getUnscaledRect(tooltip);\r\n\r\n    // ---- Horizontal adjustment ----\r\n    if (actualRect.right > window.innerWidth - border) {\r\n      const shift = (actualRect.right - window.innerWidth) + border;\r\n      left -= shift;\r\n      tooltip.style.left = `${left}px`;\r\n    } else if (actualRect.left < border) {\r\n      const shift = border - actualRect.left;\r\n      left += shift;\r\n      tooltip.style.left = `${left}px`;\r\n    }\r\n\r\n    // ---- Vertical adjustment (flip above button) ----\r\n    actualRect = getUnscaledRect(tooltip);\r\n    if (actualRect.bottom > window.innerHeight - border) {\r\n      top = -toolRect.height - border;\r\n      tooltip.style.top = `${top}px`;\r\n    }\r\n  }\r\n}\r\n*/  // document.querySelector(\"body\").className = \"dark\";\n\n//# sourceMappingURL=public.04fef988.js.map\n","// scripts/script.js\r\n\r\nconst root = document.documentElement;\r\nconst computedStyle = getComputedStyle(root);\r\nconst rootFontSize = parseFloat(computedStyle.fontSize);\r\n\r\nconst chatMenu = document.getElementById(\"chat-menu\");\r\n\r\n\r\nconst border = (0.25 * rootFontSize);\r\n\r\n// console.log(\"Root Styles:\", computedStyle.fontSize);\r\n\r\nconst buttons = document.querySelectorAll(\"button\");\r\n\r\nconst textareaMaxLines = 7;\r\n\r\nfor (let button of buttons) {\r\n    let text = document.createElement(\"p\");\r\n\r\n    for (let node of Array.from(button.childNodes)) {\r\n        if (node.nodeType === node.TEXT_NODE && node.textContent.trim() !== \"\") {\r\n            text.appendChild(node);\r\n        }\r\n    }\r\n\r\n    if (text.childNodes.length > 0) {\r\n        button.prepend(text);\r\n    }\r\n\r\n    if (button.classList.contains(\"ripple-button\")) {\r\n        setUpRipple(button);\r\n    }\r\n}\r\n\r\nfunction setUpRipple(button) {\r\n    button.addEventListener('mousedown', function (e) {\r\n        // Ensure only one ripple exists at a time\r\n        const existingRipple = this.querySelector('.ripple');\r\n        if (existingRipple) {\r\n            existingRipple.remove();\r\n        }\r\n\r\n        // Create the ripple span element\r\n        const circle = document.createElement('span');\r\n        circle.classList.add('ripple');\r\n\r\n        // Get position and calculate size\r\n        const rect = this.getBoundingClientRect();\r\n        const x = e.clientX - rect.left;\r\n        const y = e.clientY - rect.top;\r\n        const size = Math.max(rect.width, rect.height);\r\n\r\n        // Set position and size\r\n        circle.style.width = circle.style.height = `${size}px`;\r\n        circle.style.left = `${x - size / 2}px`;\r\n        circle.style.top = `${y - size / 2}px`;\r\n\r\n        // Append the ripple\r\n        this.prepend(circle);\r\n    });\r\n\r\n    // Attach the cleanup/removal logic to 'mouseup' (when the user releases the hold)\r\n    button.addEventListener('mouseup', function () {\r\n        const ripple = this.querySelector('.ripple');\r\n\r\n        if (ripple) {\r\n            // Fade Out on Release\r\n            ripple.classList.add('fading');\r\n\r\n            // Wait for the fade animation to finish before removing the element\r\n            // Use 'transitionend' if 'fading' uses CSS transitions, or a timeout.\r\n            // Using a timeout here for simplicity, assuming a 200ms fade.\r\n            setTimeout(() => {\r\n                ripple.remove();\r\n            }, 200);\r\n        }\r\n    });\r\n\r\n    // Handle case where user holds, drags mouse off button, and releases\r\n    document.addEventListener('mouseup', function (e) {\r\n        if (!button.contains(e.target)) {\r\n            const ripple = button.querySelector('.ripple');\r\n            if (ripple) {\r\n                ripple.remove(); // Remove immediately if released outside\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nwindow.updateTextareaSize = function (element) {\r\n    const height = element.style.height;\r\n    element.style.height = \"auto\";\r\n    // console.log(`Updated element textarea size: ${height}`);\r\n    let newHeight = element.scrollHeight;\r\n    let lineHeight = window.getComputedStyle(element).lineHeight;\r\n    if (typeof lineHeight != Number) {\r\n        lineHeight = 1.2;\r\n    }\r\n    const heightPerLine = lineHeight * rootFontSize;\r\n    if (newHeight > heightPerLine * textareaMaxLines) newHeight = heightPerLine * textareaMaxLines;\r\n    element.style.height = `${newHeight}px`;\r\n    element.scrollTop = element.scrollHeight;\r\n}\r\n\r\nupdateTooltips();\r\n\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", () => {\r\n    setupDropdowns();\r\n    updateDropdowns();\r\n});\r\n\r\nwindow.addEventListener(\"load\", () => {\r\n    document.body.classList.remove(\"no-transitions\");\r\n});\r\n\r\nwindow.addEventListener(\"resize\", () => {\r\n    positionTooltips();\r\n\r\n    chatMenu.classList.add(\"no-transitions\");\r\n    requestAnimationFrame(() => {\r\n\r\n        requestAnimationFrame(() => {\r\n            chatMenu.classList.remove(\"no-transitions\");\r\n        });\r\n    });\r\n});\r\n\r\ndocument.addEventListener(\"click\", (e) => {\r\n    const shownDropdowns = document.querySelectorAll(\".dropdown-content.show\");\r\n    const shownSubdropdowns = document.querySelectorAll(\".dropdown-subcontent.show, .dropdown-subcontent.click-show\");\r\n\r\n    if (shownDropdowns.length > 0) {\r\n        for (let dropdown of shownDropdowns) {\r\n            if (shownSubdropdowns.length > 0) {\r\n                let found = false;\r\n                for (let subdropdown of shownSubdropdowns) {\r\n                    const child = dropdown.querySelector(`#${subdropdown.getAttribute(\"data-toggle\")}`);\r\n\r\n                    if (child) {\r\n                        if (subdropdown.contains(e.target) ||\r\n                            child.contains(e.target)) {\r\n                            found = true;\r\n                        } else {\r\n                            subdropdown.classList.remove(\"show\");\r\n                            subdropdown.classList.remove(\"click-show\");\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (found) continue;\r\n            }\r\n\r\n            const btn = document.getElementById(dropdown.getAttribute(\"data-toggle\"));\r\n            if (!dropdown.contains(e.target) && !btn.contains(e.target)) {\r\n                dropdown.classList.remove(\"show\");\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nfunction getUnscaledRect(element) {\r\n    // Extract scale values from computed transform\r\n    const style = window.getComputedStyle(element);\r\n    const transform = style.transform;\r\n\r\n    let scaleX = 1, scaleY = 1;\r\n    if (transform && transform !== \"none\") {\r\n        const values = transform.match(/matrix\\(([^)]+)\\)/)[1].split(\",\").map(Number);\r\n        scaleX = values[0];\r\n        scaleY = values[3];\r\n    }\r\n\r\n    // Get the scaled bounding box\r\n    const rect = element.getBoundingClientRect();\r\n\r\n    // Get transform-origin in px relative to the element itself\r\n    const origin = style.transformOrigin.split(\" \").map(parseFloat);\r\n    const originX = origin[0];\r\n    const originY = origin[1];\r\n\r\n    // Convert origin into absolute page coords\r\n    const originPageX = rect.left + originX * (rect.width / scaleX) / element.offsetWidth;\r\n    const originPageY = rect.top + originY * (rect.height / scaleY) / element.offsetHeight;\r\n\r\n    // Now undo the scaling relative to the origin\r\n    function unscaleX(x) {\r\n        return originPageX + (x - originPageX) / scaleX;\r\n    }\r\n    function unscaleY(y) {\r\n        return originPageY + (y - originPageY) / scaleY;\r\n    }\r\n\r\n    return {\r\n        x: unscaleX(rect.x),\r\n        y: unscaleY(rect.y),\r\n        width: rect.width / scaleX,\r\n        height: rect.height / scaleY,\r\n        left: unscaleX(rect.left),\r\n        right: unscaleX(rect.right),\r\n        top: unscaleY(rect.top),\r\n        bottom: unscaleY(rect.bottom)\r\n    };\r\n}\r\n\r\nconst selectBoxes = document.querySelectorAll(\".option\");\r\n\r\nfor (let element of selectBoxes) {\r\n    const options = element.querySelectorAll(\"li\");\r\n\r\n    const displayOption = document.createElement(\"p\");\r\n    displayOption.classList.add(\"option-text\");\r\n\r\n    displayOption.textContent = options[0].textContent;\r\n    element.appendChild(displayOption);\r\n\r\n    const arrow = document.createElement(\"span\");\r\n    arrow.innerHTML = \"&#x25BC;\";\r\n    arrow.classList.add(\"option-arrow\");\r\n\r\n    element.appendChild(arrow);\r\n\r\n    for (let option of options) {\r\n        option.addEventListener(\"click\", () => {\r\n            const selected = Array.from(options).filter(option => option.classList.contains(\"selected\"));\r\n            for (let option of selected) {\r\n                option.classList.remove(\"selected\");\r\n            }\r\n            option.classList.add(\"selected\");\r\n            element.dataset.selected = option.dataset.value;\r\n            displayOption.textContent = option.textContent;\r\n        });\r\n    }\r\n\r\n    element.addEventListener(\"click\", () => {\r\n        element.classList.toggle(\"active\");\r\n    });\r\n}\r\n\r\n/*\r\nfunction positionTooltips() {\r\n  const border = 4; // 0.25rem (16px * 0.25)\r\n\r\n  for (let tooltip of tooltips) {\r\n    const button = tooltip.parentElement;\r\n    const btnRect = button.getBoundingClientRect();\r\n\r\n    // Get tooltip rect as if scale=1\r\n    const toolRect = getUnscaledRect(tooltip);\r\n\r\n    // ---- Default placement (centered under button) ----\r\n    let top = btnRect.height + border;\r\n    let left = (btnRect.width - toolRect.width) / 2;\r\n\r\n    tooltip.style.top = `${top}px`;\r\n    tooltip.style.left = `${left}px`;\r\n\r\n    // Measure again after placement\r\n    let actualRect = getUnscaledRect(tooltip);\r\n\r\n    // ---- Horizontal adjustment ----\r\n    if (actualRect.right > window.innerWidth - border) {\r\n      const shift = (actualRect.right - window.innerWidth) + border;\r\n      left -= shift;\r\n      tooltip.style.left = `${left}px`;\r\n    } else if (actualRect.left < border) {\r\n      const shift = border - actualRect.left;\r\n      left += shift;\r\n      tooltip.style.left = `${left}px`;\r\n    }\r\n\r\n    // ---- Vertical adjustment (flip above button) ----\r\n    actualRect = getUnscaledRect(tooltip);\r\n    if (actualRect.bottom > window.innerHeight - border) {\r\n      top = -toolRect.height - border;\r\n      tooltip.style.top = `${top}px`;\r\n    }\r\n  }\r\n}\r\n*/\r\n\r\n\r\n// document.querySelector(\"body\").className = \"dark\";"],"names":["root","document","documentElement","computedStyle","getComputedStyle","rootFontSize","parseFloat","fontSize","chatMenu","getElementById","border","buttons","querySelectorAll","textareaMaxLines","button","text","createElement","node","Array","from","childNodes","nodeType","TEXT_NODE","textContent","trim","appendChild","length","prepend","classList","contains","setUpRipple","addEventListener","e","existingRipple","querySelector","remove","circle","add","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","size","Math","max","width","height","style","ripple","setTimeout","target","getUnscaledRect","element","window","transform","scaleX","scaleY","values","match","split","map","Number","origin","transformOrigin","originX","originY","originPageX","offsetWidth","originPageY","offsetHeight","right","bottom","updateTextareaSize","newHeight","scrollHeight","lineHeight","heightPerLine","scrollTop","updateTooltips","setupDropdowns","updateDropdowns","body","positionTooltips","requestAnimationFrame","shownDropdowns","shownSubdropdowns","dropdown","found","subdropdown","child","getAttribute","btn","selectBoxes","options","displayOption","arrow","option","innerHTML","filter","dataset","selected","value","toggle"],"version":3,"file":"public.04fef988.js.map"}